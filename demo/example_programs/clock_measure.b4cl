const int timer_addr 8

var int value
var int freq
sys.print_string("kHz",6,0)

while true
  // reset the timer
  *timer_addr = 0

  for var int i; i < 15; i++
    // wait a few cycles
	
  value = *timer_addr
  freq = 7700 / value
  sys.print_int(freq,0,0,true)
